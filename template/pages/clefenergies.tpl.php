
<style type="text/css">
	
</style>
<html>
    <head>
        <title>Contatore</title></head>
    <body>
    	<div class="container">
      <div class="content-row mt-4" id="counter"><p>Kw/s</p></div>
    </div>
    </body>
</html>

<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>

<script type="text/javascript">
var sunset = [{name:'Janvier',value:['08:27','08:27','08:27','08:27','08:27','08:27','08:27','08:26','08:26','08:26','08:25','08:25','08:24','08:23','08:23','08:22','08:21','08:21','08:20','08:19','08:18','08:17','08:16','08:15','08:14','08:13','08:12','08:11','08:10','08:09','08:08']},
{name:'Février',value:['08:06','08:05','08:04','08:02','08:01','07:59','07:58','07:57','07:55','07:54','07:52','07:50','07:49','07:47','07:46','07:44','07:42','07:41','07:39','07:37','07:35','07:34','07:32','07:30','07:28','07:26','07:25','07:23','07:22']},
{name:'Mars',value:['07:21','07:19','07:17','07:15','07:13','07:11','07:09','07:08','07:06','07:04','07:02','07:00','06:58','06:56','06:54','06:52','06:50','06:48','06:46','06:44','06:42','06:40','06:38','06:36','06:34','06:32','06:30','07:28','07:26','07:24','07:22']},
{name:'Avril',value:['07:20','07:18','07:16','07:14','07:12','07:10','07:08','07:06','07:04','07:02','07:00','06:58','06:57','06:55','06:53','06:51','06:49','06:47','06:45','06:44','06:42','06:40','06:38','06:37','06:35','06:33','06:32','06:30','06:28','06:27']},
{name:'Mai',value:['06:25','06:23','06:22','06:20','06:19','06:17','06:16','06:14','06:13','06:12','06:10','06:09','06:08','06:06','06:05','06:04','06:03','06:02','06:00','05:59','05:58','05:57','05:56','05:55','05:54','05:54','05:53','05:52','05:51','05:50','05:50']},
{name:'Juin',value:['05:49','05:49','05:48','05:48','05:47','05:47','05:46','05:46','05:46','05:45','05:45','05:45','05:45','05:45','05:45','05:45','05:45','05:45','05:45','05:45','05:45','05:45','05:46','05:46','05:46','05:47','05:47','05:48','05:48','05:49']},
{name:'Juillet',value:['05:49','05:50','05:51','05:51','05:52','05:53','05:53','05:54','05:55','05:56','05:57','05:58','05:59','06:00','06:01','06:02','06:03','06:04','06:05','06:06','06:07','06:08','06:09','06:10','06:12','06:13','06:14','06:15','06:16','06:17','06:19']},
{name:'Aout',value:['06:20','06:21','06:22','06:24','06:25','06:26','06:28','06:29','06:30','06:31','06:33','06:34','06:35','06:37','06:38','06:39','06:41','06:42','06:43','06:44','06:46','06:47','06:48','06:50','06:51','06:52','06:54','06:55','06:56','06:58','06:59']},
{name:'Septembre',value:['07:00','07:02','07:03','07:04','07:06','07:07','07:08','07:09','07:11','07:12','07:13','07:15','07:16','07:17','07:19','07:20','07:21','07:23','07:24','07:25','07:27','07:28','07:29','07:31','07:32','07:33','07:35','07:36','07:37','07:39']},
{name:'Octobre',value:['07:40','07:41','07:43','07:44','07:45','07:47','07:48','07:50','07:51','07:52','07:54','07:55','07:57','07:58','07:59','08:01','08:02','08:04','08:05','08:06','08:08','08:09','08:11','08:12','08:14','08:15','08:17','08:18','08:20','08:21','07:23']},
{name:'Novembre',value:['07:40','07:41','07:43','07:44','07:45','07:47','07:48','07:50','07:51','07:52','07:54','07:55','07:57','07:58','07:59','08:01','08:02','08:04','08:05','08:06','08:08','08:09','08:11','08:12','08:14','08:15','08:17','08:18','08:20','08:21','08:27']},
{name:'Décembre',value:['08:07','08:08','08:09','08:10','08:11','08:12','08:13','08:15','08:16','08:16','08:17','08:18','08:19','08:20','08:21','08:21','08:22','08:23','08:23','08:24','08:25','08:25','08:26','08:26','08:26','08:27','08:27','08:27','08:27','08:27','08:27']}
]
var sunrise = [{name:'Janvier',value:['17:02','17:03','17:04','17:05','17:06','17:07','17:08','17:10','17:11','17:12','17:13','17:15','17:16','17:17','17:19','17:20','17:21','17:23','17:24','17:26','17:27','17:28','17:30','17:31','17:33','17:34','17:36','17:37','17:39','17:40','17:42']},
{name:'Février',value:['17:44','17:45','17:47','17:48','17:50','17:51','17:53','17:54','17:56','17:58','17:59','18:01','18:02','18:04','18:05','18:07','18:08','18:10','18:11','18:13','18:14','18:16','18:17','18:19','18:20','18:22','18:23','18:25','18:25']},
{name:'Mars',value:['18:26','18:28','18:29','18:31','18:32','18:34','18:35','18:37','18:38','18:40','18:41','18:42','18:44','18:45','18:47','18:48','18:50','18:51','18:52','18:54','18:55','18:57','18:58','18:59','19:01','19:02','19:04','20:05','20:06','20:08','20:09']},
{name:'Avril',value:['20:11','20:12','20:13','20:15','20:16','20:18','20:19','20:20','20:22','20:23','20:24','20:26','20:27','20:29','20:30','20:31','20:33','20:34','20:36','20:37','20:38','20:40','20:41','20:42','20:44','20:45','20:47','20:48','20:49','20:51']},
{name:'Mai',value:['20:52','20:53','20:55','20:56','20:57','20:59','21:00','21:01','21:03','21:04','21:05','21:07','21:08','21:09','21:10','21:12','21:13','21:14','21:15','21:17','21:18','21:19','21:20','21:21','21:22','21:23','21:24','21:25','21:26','21:27','21:28']},
{name:'Juin',value:['21:29','21:30','21:31','21:32','21:32','21:33','21:34','21:35','21:35','21:36','21:37','21:37','21:38','21:38','21:39','21:39','21:39','21:40','21:40','21:40','21:40','21:41','21:41','21:41','21:41','21:41','21:41','21:41','21:41','21:40']},
{name:'Juillet',value:['21:40','21:40','21:40','21:39','21:39','21:39','21:38','21:38','21:37','21:36','21:36','21:35','21:34','21:34','21:33','21:32','21:31','21:30','21:29','21:28','21:27','21:26','21:25','21:24','21:23','21:22','21:20','21:19','21:18','21:17','21:15']},
{name:'Aout',value:['21:14','21:12','21:11','21:10','21:08','21:07','21:05','21:04','21:02','21:00','20:59','20:57','20:55','20:54','20:52','20:50','20:49','20:47','20:45','20:43','20:41','20:40','20:38','20:36','20:34','20:32','20:30','20:28','20:27','20:25','20:23']},
{name:'Septembre',value:['20:21','20:19','20:17','20:15','20:13','20:11','20:09','20:07','20:05','20:03','20:01','19:59','19:57','19:55','19:53','19:51','19:49','19:47','19:45','19:43','19:41','19:39','19:37','19:35','19:33','19:30','19:28','19:26','19:24','19:22']},
{name:'Octobre',value:['19:20','19:18','19:16','19:14','19:13','19:11','19:09','19:07','19:05','19:03','19:01','18:59','18:57','18:55','18:53','18:52','18:50','18:48','18:46','18:44','18:42','18:41','18:39','18:37','18:36','18:34','18:32','18:31','18:29','18:27','17:26']},
{name:'Novembre',value:['17:24','17:23','17:21','17:20','17:18','17:17','17:16','17:14','17:13','17:12','17:10','17:09','17:08','17:07','17:06','17:05','17:04','17:03','17:02','17:01','17:00','16:59','16:58','16:57','16:57','16:56','16:55','16:55','16:54','16:54']},
{name:'Décembre',value:['16:53','16:53','16:52','16:52','16:52','16:52','16:51','16:51','16:51','16:51','16:51','16:51','16:51','16:51','16:52','16:52','16:52','16:53','16:53','16:53','16:54','16:54','16:55','16:55','16:56','16:57','16:58','16:58','16:59','17:00','17:01']}]


var surfaceInstalM2 = 450000;
var prodKWCannuel = surfaceInstalM2*100;
var prodKWCseconde = (prodKWCannuel/127860)/60;
var today = new Date("04 28, 2021 12:00:00");
var timetod = today.getTime();
var debutdujour = new Date((today.getMonth()+1)+" "+today.getDate()+", "+today.getFullYear()+" "+sunset[today.getMonth()].value[today.getDate()-1]).getTime();
var timetoday = (today.getTime()-debutdujour)/1000;
var somme = 0;
// date année -1 pour afficher depuis l'an passé
for (var i = new Date(today.getFullYear()-1,0,1); i < today; i.setDate(i.getDate()+1)){
	var t1 = new Date((i.getMonth()+1)+" "+i.getDate()+", "+i.getFullYear()+" "+sunset[i.getMonth()].value[i.getDate()-1]).getTime(); 
	var t2 = new Date((i.getMonth()+1)+" "+i.getDate()+", "+i.getFullYear()+" "+sunrise[i.getMonth()].value[i.getDate()-1]).getTime(); 
	var diff = (t2/1000)-(t1/1000);
	somme += diff/2;
}
var prodtoday = (timetoday+somme)*prodKWCseconde;
var speed = 1000;
$(document).ready(function () {
    go();
    setInterval(function () {
        go();
    }, speed);
});

function go() {
    $("#counter").html(prodtoday.toFixed(2));

    if ((timetod>new Date((today.getMonth()+1)+" "+today.getDate()+", "+today.getFullYear()+" "+sunset[today.getMonth()].value[today.getDate()-1]).getTime())&&(timetod<new Date((today.getMonth()+1)+" "+today.getDate()+", "+today.getFullYear()+" "+sunrise[today.getMonth()].value[today.getDate()-1]).getTime())){
    prodtoday += prodKWCseconde;
	}
	// today = new Date();
	// timetod = today.getTime();
}




function join(t, a, s) {
   function format(m) {
      let f = new Intl.DateTimeFormat('en', m);
      return f.format(t);
   }
   return a.map(format).join(s);
}

let a = [{day: 'numeric'}, {month: 'short'}, {year: 'numeric'}];
let s = join(new Date, a, '-');
console.log(s);
</script>












<style type="text/css">
	.elementor-widget-html > div > div{
color: #FFFFFF;
font-family: "calibri1", Sans-serif;
font-size: 2em;
font-weight: 300;
letter-spacing: 4.1px;
display: flex;
flex-direction: row;
justify-content: center;
}
.button {
  flex-direction: row;
  transition-duration: 1s;
  position: relative;
}

.positioned {
  transition-duration: 1s;
  display: flex;
  flex-direction: row;
  justify-content: space-around;
}

.elementor-widget-html > div > div > button {
    display: flex;
    flex-direction: row;
    justify-content: space-around;
    background-color: rgba(0, 0, 0, 0.6);  
    color: white;
    border-radius: 12px;
    font-size: 1.2em;
    font-weight: 400;
    padding: 10px 12px;
    transition-duration: 0.4s;
    width: min(20em);
    box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);
}

.elementor-widget-html > div > div > button:hover {
    display: flex;
    flex-direction: row;
    text-decoration: none;
    background-color: rgba(0, 0, 0, 0.8); 
    color: white;
}
</style>



<div>Production de nos installations depuis 2020</div>

<div>
<button id="button">
    <div class="positioned">
        <i class="fas fa-solar-panel" ></i> 
    </div>
    <div class="positioned" id="counter">
    </div>
    <div class="positioned">KWC
    </div>
</button>
</div>



<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>

<script type="text/javascript">
var sunset = [{name:'Janvier',value:['08:27','08:27','08:27','08:27','08:27','08:27','08:27','08:26','08:26','08:26','08:25','08:25','08:24','08:23','08:23','08:22','08:21','08:21','08:20','08:19','08:18','08:17','08:16','08:15','08:14','08:13','08:12','08:11','08:10','08:09','08:08']},
{name:'Février',value:['08:06','08:05','08:04','08:02','08:01','07:59','07:58','07:57','07:55','07:54','07:52','07:50','07:49','07:47','07:46','07:44','07:42','07:41','07:39','07:37','07:35','07:34','07:32','07:30','07:28','07:26','07:25','07:23','07:22']},
{name:'Mars',value:['07:21','07:19','07:17','07:15','07:13','07:11','07:09','07:08','07:06','07:04','07:02','07:00','06:58','06:56','06:54','06:52','06:50','06:48','06:46','06:44','06:42','06:40','06:38','06:36','06:34','06:32','06:30','07:28','07:26','07:24','07:22']},
{name:'Avril',value:['07:20','07:18','07:16','07:14','07:12','07:10','07:08','07:06','07:04','07:02','07:00','06:58','06:57','06:55','06:53','06:51','06:49','06:47','06:45','06:44','06:42','06:40','06:38','06:37','06:35','06:33','06:32','06:30','06:28','06:27']},
{name:'Mai',value:['06:25','06:23','06:22','06:20','06:19','06:17','06:16','06:14','06:13','06:12','06:10','06:09','06:08','06:06','06:05','06:04','06:03','06:02','06:00','05:59','05:58','05:57','05:56','05:55','05:54','05:54','05:53','05:52','05:51','05:50','05:50']},
{name:'Juin',value:['05:49','05:49','05:48','05:48','05:47','05:47','05:46','05:46','05:46','05:45','05:45','05:45','05:45','05:45','05:45','05:45','05:45','05:45','05:45','05:45','05:45','05:45','05:46','05:46','05:46','05:47','05:47','05:48','05:48','05:49']},
{name:'Juillet',value:['05:49','05:50','05:51','05:51','05:52','05:53','05:53','05:54','05:55','05:56','05:57','05:58','05:59','06:00','06:01','06:02','06:03','06:04','06:05','06:06','06:07','06:08','06:09','06:10','06:12','06:13','06:14','06:15','06:16','06:17','06:19']},
{name:'Aout',value:['06:20','06:21','06:22','06:24','06:25','06:26','06:28','06:29','06:30','06:31','06:33','06:34','06:35','06:37','06:38','06:39','06:41','06:42','06:43','06:44','06:46','06:47','06:48','06:50','06:51','06:52','06:54','06:55','06:56','06:58','06:59']},
{name:'Septembre',value:['07:00','07:02','07:03','07:04','07:06','07:07','07:08','07:09','07:11','07:12','07:13','07:15','07:16','07:17','07:19','07:20','07:21','07:23','07:24','07:25','07:27','07:28','07:29','07:31','07:32','07:33','07:35','07:36','07:37','07:39']},
{name:'Octobre',value:['07:40','07:41','07:43','07:44','07:45','07:47','07:48','07:50','07:51','07:52','07:54','07:55','07:57','07:58','07:59','08:01','08:02','08:04','08:05','08:06','08:08','08:09','08:11','08:12','08:14','08:15','08:17','08:18','08:20','08:21','07:23']},
{name:'Novembre',value:['07:40','07:41','07:43','07:44','07:45','07:47','07:48','07:50','07:51','07:52','07:54','07:55','07:57','07:58','07:59','08:01','08:02','08:04','08:05','08:06','08:08','08:09','08:11','08:12','08:14','08:15','08:17','08:18','08:20','08:21','08:27']},
{name:'Décembre',value:['08:07','08:08','08:09','08:10','08:11','08:12','08:13','08:15','08:16','08:16','08:17','08:18','08:19','08:20','08:21','08:21','08:22','08:23','08:23','08:24','08:25','08:25','08:26','08:26','08:26','08:27','08:27','08:27','08:27','08:27','08:27']}
];
var sunrise = [{name:'Janvier',value:['17:02','17:03','17:04','17:05','17:06','17:07','17:08','17:10','17:11','17:12','17:13','17:15','17:16','17:17','17:19','17:20','17:21','17:23','17:24','17:26','17:27','17:28','17:30','17:31','17:33','17:34','17:36','17:37','17:39','17:40','17:42']},
{name:'Février',value:['17:44','17:45','17:47','17:48','17:50','17:51','17:53','17:54','17:56','17:58','17:59','18:01','18:02','18:04','18:05','18:07','18:08','18:10','18:11','18:13','18:14','18:16','18:17','18:19','18:20','18:22','18:23','18:25','18:25']},
{name:'Mars',value:['18:26','18:28','18:29','18:31','18:32','18:34','18:35','18:37','18:38','18:40','18:41','18:42','18:44','18:45','18:47','18:48','18:50','18:51','18:52','18:54','18:55','18:57','18:58','18:59','19:01','19:02','19:04','20:05','20:06','20:08','20:09']},
{name:'Avril',value:['20:11','20:12','20:13','20:15','20:16','20:18','20:19','20:20','20:22','20:23','20:24','20:26','20:27','20:29','20:30','20:31','20:33','20:34','20:36','20:37','20:38','20:40','20:41','20:42','20:44','20:45','20:47','20:48','20:49','20:51']},
{name:'Mai',value:['20:52','20:53','20:55','20:56','20:57','20:59','21:00','21:01','21:03','21:04','21:05','21:07','21:08','21:09','21:10','21:12','21:13','21:14','21:15','21:17','21:18','21:19','21:20','21:21','21:22','21:23','21:24','21:25','21:26','21:27','21:28']},
{name:'Juin',value:['21:29','21:30','21:31','21:32','21:32','21:33','21:34','21:35','21:35','21:36','21:37','21:37','21:38','21:38','21:39','21:39','21:39','21:40','21:40','21:40','21:40','21:41','21:41','21:41','21:41','21:41','21:41','21:41','21:41','21:40']},
{name:'Juillet',value:['21:40','21:40','21:40','21:39','21:39','21:39','21:38','21:38','21:37','21:36','21:36','21:35','21:34','21:34','21:33','21:32','21:31','21:30','21:29','21:28','21:27','21:26','21:25','21:24','21:23','21:22','21:20','21:19','21:18','21:17','21:15']},
{name:'Aout',value:['21:14','21:12','21:11','21:10','21:08','21:07','21:05','21:04','21:02','21:00','20:59','20:57','20:55','20:54','20:52','20:50','20:49','20:47','20:45','20:43','20:41','20:40','20:38','20:36','20:34','20:32','20:30','20:28','20:27','20:25','20:23']},
{name:'Septembre',value:['20:21','20:19','20:17','20:15','20:13','20:11','20:09','20:07','20:05','20:03','20:01','19:59','19:57','19:55','19:53','19:51','19:49','19:47','19:45','19:43','19:41','19:39','19:37','19:35','19:33','19:30','19:28','19:26','19:24','19:22']},
{name:'Octobre',value:['19:20','19:18','19:16','19:14','19:13','19:11','19:09','19:07','19:05','19:03','19:01','18:59','18:57','18:55','18:53','18:52','18:50','18:48','18:46','18:44','18:42','18:41','18:39','18:37','18:36','18:34','18:32','18:31','18:29','18:27','17:26']},
{name:'Novembre',value:['17:24','17:23','17:21','17:20','17:18','17:17','17:16','17:14','17:13','17:12','17:10','17:09','17:08','17:07','17:06','17:05','17:04','17:03','17:02','17:01','17:00','16:59','16:58','16:57','16:57','16:56','16:55','16:55','16:54','16:54']},
{name:'Décembre',value:['16:53','16:53','16:52','16:52','16:52','16:52','16:51','16:51','16:51','16:51','16:51','16:51','16:51','16:51','16:52','16:52','16:52','16:53','16:53','16:53','16:54','16:54','16:55','16:55','16:56','16:57','16:58','16:58','16:59','17:00','17:01']}];


var surfaceInstalM2 = 450000;
var prodKWCannuel = surfaceInstalM2*100;
var prodKWCseconde = (prodKWCannuel/127860)/60;
var today = new Date();
var timetod = today.getTime();
var debutdujour = new Date((today.getMonth()+1)+'/'+today.getDate()+'/'+today.getFullYear()+', '+sunset[today.getMonth()].value[today.getDate()-1]).getTime();
var timetoday = (today.getTime()-debutdujour)/1000;
var somme = 0;
// date année -1 pour afficher depuis l'an passé
for (var i = new Date(today.getFullYear()-1,0,1); i < today; i.setDate(i.getDate()+1)){
	var t1 = new Date((i.getMonth()+1)+'/'+i.getDate()+'/'+i.getFullYear()+', '+sunset[i.getMonth()].value[i.getDate()-1]).getTime(); 
	var t2 = new Date((i.getMonth()+1)+'/'+i.getDate()+'/'+i.getFullYear()+', '+sunrise[i.getMonth()].value[i.getDate()-1]).getTime(); 
	var diff = (t2/1000)-(t1/1000);
	somme += diff/2;
}
var prodtoday = (timetoday+somme)*prodKWCseconde;
var speed = 1000;
jQuery(document).ready(function () {
    go();
    setInterval(function () {
        go();
    }, speed);
});
function numStr(a, b) {
  a = '' + a;
  b = b || ' ';
  var c = '',
      d = 0;
  while (a.match(/^0[0-9]/)) {
    a = a.substr(1);
  }
  for (var i = a.length-1; i >= 0; i--) {
    c = (d !== 0 && d % 3 === 0) ? a[i] + b + c : a[i] + c;
    d++;
  }
  return c;
}	

function go() {
		var result = prodtoday.toFixed(0);
    jQuery('#counter').html(numStr(result));
		var calcul1 = new Date((today.getMonth()+1)+'/'+today.getDate()+'/'+today.getFullYear()+', '+sunset[today.getMonth()].value[today.getDate()-1]).getTime();
		var calcul2 = new Date((today.getMonth()+1)+'/'+today.getDate()+'/'+today.getFullYear()+', '+sunrise[today.getMonth()].value[today.getDate()-1]).getTime();
    if ((timetod>calcul1)&&(timetod<calcul2)){
		prodtoday += prodKWCseconde;
	}
	today = new Date();
	timetod = today.getTime();
}
</script>

